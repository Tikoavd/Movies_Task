plugins {
    id 'kotlin-kapt'
    id 'com.google.devtools.ksp'
}

def localPropertiesFile = rootProject.file("local.properties")
def localProperties = new Properties()
localProperties.load(new FileInputStream(localPropertiesFile))

android {

    buildTypes {
        release {
            //  signingConfig signingConfigs.release
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
            buildConfigField "String", "BASE_URL", '"https://api.themoviedb.org/3/"'
            buildConfigField "String", "AUTH_TOKEN", '"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4M2RjMDUwYTFhMjlhZDQ5NjhhMjI0NmQyMmM1NTcwMSIsIm5iZiI6MTc2NDI1MDUxMS4zNzksInN1YiI6IjY5Mjg1MzhmNzdjYzViNzE2NzI0NWJjZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.5XCn8nlQ3-PN7LM--ndw4WD-o7M0yNCbjKlyhd-Mc3s"'
        }
        debug {
            buildConfigField "String", "BASE_URL", '"https://api.themoviedb.org/3/"'
            buildConfigField "String", "AUTH_TOKEN", '"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4M2RjMDUwYTFhMjlhZDQ5NjhhMjI0NmQyMmM1NTcwMSIsIm5iZiI6MTc2NDI1MDUxMS4zNzksInN1YiI6IjY5Mjg1MzhmNzdjYzViNzE2NzI0NWJjZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.5XCn8nlQ3-PN7LM--ndw4WD-o7M0yNCbjKlyhd-Mc3s"'
        }
    }
    namespace 'com.task.data'

    android.libraryVariants.all { variant ->
        variant.sourceSets.java.each {
            it.srcDirs += "build/generated/ksp/${variant.name}/kotlin"
        }
    }
}

dependencies {
    implementation project(path: ':domain')
    implementation project(path: ':entities')
    testImplementation(test.junit)
    androidTestImplementation(androidTest.androidxJunit)
    androidTestImplementation(androidTest.androidxEspressoCore)
    implementation(androidXLibraries.roomRuntime)
    kapt (androidXLibraries.roomCompiler)
    implementation libraries.koinAndroid
    implementation libraries.koinAnnotations
    ksp libraries.kspCompiler
    implementation(libraries.retrofit)
    implementation(libraries.loggingInterceptor)
    implementation(libraries.gson)
    implementation(libraries.timber)
    implementation(androidXLibraries.paging)
}
